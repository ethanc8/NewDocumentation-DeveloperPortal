<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <!-- Generated with Sphinx 7.1.2 and Furo 2024.05.06 -->
        <title>Actions - GNUstep Developer Portal</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">GNUstep Developer Portal</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">GNUstep Developer Portal</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../introduction.html">Platform Introduction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Platform Introduction</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../introduction/components.html">Platform Components</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Platform Components</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/overview/libraries.html">Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/overview/services.html">Services</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/languages.html">Programming Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/builder.html">GNOME Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/flatpak.html">Flatpak</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guidelines.html">Guidelines</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Guidelines</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guidelines/programming.html">Programming Guidelines</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Programming Guidelines</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/programming/coding-style.html">C Coding Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/programming/memory-management.html">Managing Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/programming/writing-good-code.html">The Importance of Writing Good Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/programming/optimizing.html">Optimizing GNOME Applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/programming/namespacing.html">Namespacing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/programming/introspection.html">Introspection</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guidelines/accessibility.html">Accessibility</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Accessibility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/accessibility/coding-guidelines.html">Coding Guidelines for Supporting Accessibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/accessibility/custom-widgets.html">Making Custom Components Accessible</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guidelines/localization.html">Localization</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Localization</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/localization/practices.html">Best Practices for Localization</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guidelines/maintainer.html">Maintainer Guidelines</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Maintainer Guidelines</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/maintainer/api-stability.html">API Stability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/maintainer/parallel-installability.html">Parallel Installability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidelines/maintainer/integrating.html">Integrating with GNOME</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guidelines/devel-docs.html">Developer Documentation Style Guidelines</a></li>
<li class="toctree-l2"><a class="reference external" href="https://developer.gnome.org/hig/">Human Interface Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tools.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Tools</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tools/inspector.html">GTK Inspector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/valgrind.html">Valgrind</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/massif.html">Massif</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/sysprof.html">Sysprof</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/tutorials/actions.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="actions">
<h1>Actions<a class="headerlink" href="#actions" title="Permalink to this heading">¶</a></h1>
<p>A <code class="docutils literal notranslate"><span class="pre">GAction</span></code> is a representation of a single user-interesting action in an application.</p>
<p>To use <code class="docutils literal notranslate"><span class="pre">GAction</span></code> you should be using <a class="reference internal" href="application.html"><span class="doc">GtkApplication</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It’s possible to use <code class="docutils literal notranslate"><span class="pre">GAction</span></code> without <code class="docutils literal notranslate"><span class="pre">GtkApplication</span></code> but this is not
discussed here.</p>
</div>
<section id="what-it-is-what-it-isn-t">
<h2>What it is, what it isn’t<a class="headerlink" href="#what-it-is-what-it-isn-t" title="Permalink to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">GAction</span></code> is essentially a way to tell the toolkit about a piece of
functionality in your program, and to give it a name.</p>
<p>Actions are purely functional. They do not contain any presentational information.</p>
<p>An action has four pieces of information associated with it:</p>
<ul class="simple">
<li><p>a <strong>name</strong> as an identifier (usually all-lowercase, untranslated English string)</p></li>
<li><p>an <strong>enabled</strong> flag indicating if the action can be activated or not (like “sensitive”)</p></li>
<li><p>an optional <strong>state</strong> value, for stateful actions (like a boolean for toggles)</p></li>
<li><p>an optional <strong>parameter</strong> type, used when activating the action</p></li>
</ul>
<p>An action supports two operations:</p>
<ul class="simple">
<li><p>activation, invoked with an optional parameter (of the correct type, see
above)</p></li>
<li><p>state change request, invoked with a new requested state value (of the
correct type). Only supported for stateful actions.</p></li>
</ul>
<p>Here are some rules about an action:</p>
<ul class="simple">
<li><p>the <strong>name</strong> is immutable (in the sense that it will never change) and it
is never <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
<li><p>the <strong>enabled</strong> flag can change</p></li>
<li><p>the <strong>parameter</strong> type is immutable</p></li>
<li><p>the <strong>parameter type</strong> is optional: it can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p>
<ul>
<li><p>if the parameter type is <code class="docutils literal notranslate"><span class="pre">NULL</span></code> then action activation must be done
without a parameter (ie: a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> GVariant pointer)</p></li>
<li><p>if the parameter type is non <code class="docutils literal notranslate"><span class="pre">NULL</span></code> then the parameter must have this
type</p></li>
</ul>
</li>
<li><p>the <strong>state</strong> can change, but it cannot change type</p>
<ul>
<li><p>if the action was stateful when it was created, it will always have a
state and it will always have exactly the same type (such as boolean
or string)</p></li>
<li><p>if the action was stateless when it was created, it can never have a state</p></li>
</ul>
</li>
<li><p>you can only request <strong>state changes</strong> on stateful actions and it is only
possible to request that the state change to a value of the same type as the
existing state</p></li>
</ul>
<p>An action does <strong>not</strong> have any of the following:</p>
<ul class="simple">
<li><p>a label</p></li>
<li><p>an icon</p></li>
<li><p>a way of creating a widget corresponding to it</p></li>
<li><p>any other sort of presentational information</p></li>
</ul>
</section>
<section id="action-state-and-parameters">
<h2>Action state and parameters<a class="headerlink" href="#action-state-and-parameters" title="Permalink to this heading">¶</a></h2>
<p>Most actions in your application will be stateless actions with no parameters.
These typically appear as menu items with no special decoration. An example is
“quit”.</p>
<p>Stateful actions are used to represent an action which has a closely-associated
state of some kind. A good example is a “fullscreen” action. For this case,
you’d expect to see a checkmark next to the menu item when the fullscreen option
is active. This is usually called a toggle action, and it has a boolean state.
By convention, toggle actions have no parameter type for activation: activating
the action always toggles the state.</p>
<p>Another common case is to have an action representing a enumeration of possible
values of a given type (typically string). This is often called a radio action
and is usually represented in the user interface with radio buttons or radio
menu items, or sometimes a combobox. A good example is “text-justify” with
possible values “left”, “center”, and “right”. By convention, these types of
actions have a parameter type equal to their state type, and activating them
with a particular parameter value is equivalent to changing their state to that
value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This approach to handling radio buttons is different than many other action
systems. With <code class="docutils literal notranslate"><span class="pre">GAction</span></code>, there is only one action for “text-justify” and
“left”, “center” and “right” are possible states on that action. There are
not three separate “justify-left”, “justify-center” and “justify-right”
actions.</p>
</div>
<p>The final common type of action is a stateless action with a parameter. This is
typically used for actions like “open-bookmark” where the parameter to the
action would be the identifier of the bookmark to open.</p>
</section>
<section id="action-target-and-detailed-names">
<h2>Action target and detailed names<a class="headerlink" href="#action-target-and-detailed-names" title="Permalink to this heading">¶</a></h2>
<p>Because some types of actions cannot be invoked without a parameter, it is often
important to specify a parameter when referring to the action from a place where
it will be invoked (such as from a radio button that sets the state to a
particular value or from a menu item that opens a specific bookmark). From these
contexts, the value used for the action parameter is typically called the target
of the action.</p>
<p>Even though toggle actions have a state, they do not have a parameter.
Therefore, a target value is not needed when referring to them – they will
always be toggled on activation.</p>
<p>Most APIs that allow using a <code class="docutils literal notranslate"><span class="pre">GAction</span></code> (such as <code class="docutils literal notranslate"><span class="pre">GMenuModel</span></code> and
<code class="docutils literal notranslate"><span class="pre">GtkActionable</span></code>) allow use of detailed action names. This is a convenient way
of specifying an action name and an action target with a single string.</p>
<p>In the case that the action target is a string with no unusual characters (ie:
only alpha-numeric, plus ‘-’ and ‘.’) then you can use a detailed action name of
the form <code class="docutils literal notranslate"><span class="pre">justify::left</span></code> to specify the justify action with a target of left.</p>
<p>In the case that the action target is not a string, or contains unusual
characters, you can use the more general format <code class="docutils literal notranslate"><span class="pre">action-name(5)</span></code>, where the “5”
here is any valid text-format <code class="docutils literal notranslate"><span class="pre">GVariant</span></code> (ie: a string that can be parsed by
<code class="docutils literal notranslate"><span class="pre">g_variant_parse()</span></code>). Another example is <code class="docutils literal notranslate"><span class="pre">open-bookmark('http://gnome.org/')</span></code>.</p>
<p>You can convert between detailed action names and split-out action names and
target values using <code class="docutils literal notranslate"><span class="pre">g_action_parse_detailed_action_name()</span></code> and
<code class="docutils literal notranslate"><span class="pre">g_action_print_detailed_action_name()</span></code> but usually you will not need to. Most
APIs will provide both ways of specifying actions with targets.</p>
</section>
<section id="action-scopes">
<h2>Action scopes<a class="headerlink" href="#action-scopes" title="Permalink to this heading">¶</a></h2>
<p>Actions are always scoped to a particular object on which they operate.</p>
<p>GTK allows you to create any number of scopes for actions, but will always have
two predefined scopes available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">app</span></code>, for actions global to the application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">win</span></code>, for actions tied to an application window</p></li>
</ul>
<p>Actions scoped to windows should be the actions that specifically impact that
window. These are actions like “fullscreen” and “close”, or in the case that a
window contains a document, “save” and “print”.</p>
<p>Actions that impact the application as a whole rather than one specific window
are scoped to the application. These are actions like “about” and “preferences”.</p>
<p>If a particular action is scoped to a window then it is scoped to a specific
window. Another way of saying this: if your application has a “fullscreen”
action that applies to windows and it has three windows, then it will have three
fullscreen actions: one for each window.</p>
<p>Having a separate action per-window allows for each window to have a separate
state for each instance of the action as well as being able to control the
enabled state of the action on a per-window basis.</p>
<p>Actions are added to their relevant scope (application or window) using the
<code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> interface.</p>
</section>
<section id="gactionmap">
<h2><code class="docutils literal notranslate"><span class="pre">GActionMap</span></code><a class="headerlink" href="#gactionmap" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> is an interface exposing a mapping of action names to actions. It
is implemented by <code class="docutils literal notranslate"><span class="pre">GtkApplication</span></code> and <code class="docutils literal notranslate"><span class="pre">GtkApplicationWindow</span></code>. Actions can
be added, removed, or looked up.</p>
<p>If you want to insert several actions at the same time, it is typically faster
and easier to use <code class="docutils literal notranslate"><span class="pre">GActionEntry</span></code>.</p>
<p>When referring to actions on a <code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> only the name of the action itself
is used (ie: “quit”, not “app.quit”). The “app.quit” form is only used when
referring to actions from places like a <code class="docutils literal notranslate"><span class="pre">GMenu</span></code> or <code class="docutils literal notranslate"><span class="pre">GtkActionable</span></code> widget
where the scope of the action is not already known. Because you’re using the
<code class="docutils literal notranslate"><span class="pre">GtkApplication</span></code> or <code class="docutils literal notranslate"><span class="pre">GtkApplicationWindow</span></code> as the <code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> it is clear
which object your action is scoped to, so the prefix is not needed.</p>
</section>
<section id="gsimpleaction-vs-gaction">
<h2><code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> vs <code class="docutils literal notranslate"><span class="pre">GAction</span></code><a class="headerlink" href="#gsimpleaction-vs-gaction" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GAction</span></code> is an interface with several implementations. The one that you are
most likely to use directly is <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code>.</p>
<p>A good way to think about the split between <code class="docutils literal notranslate"><span class="pre">GAction</span></code> and <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> is
that <code class="docutils literal notranslate"><span class="pre">GAction</span></code> is the “consumer interface” and <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> is the
“provider interface”. The <code class="docutils literal notranslate"><span class="pre">GAction</span></code> interface provides the functions that are
consumed by users/callers/displayers of the action (such as menus and widgets).
The <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> interface is only accessed by the code that provides the
implementation for the action itself.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> takes a <code class="docutils literal notranslate"><span class="pre">GAction</span></code>. Your action will only be
“consumed” as a result of you putting it in a <code class="docutils literal notranslate"><span class="pre">GActionMap</span></code>.</p>
<p>Compare:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GAction</span></code> has a function for checking if an action is enabled
(<code class="docutils literal notranslate"><span class="pre">g_action_get_enabled()</span></code>) but only the <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> API can enable or
disable an action (<code class="docutils literal notranslate"><span class="pre">g_simple_action_set_enabled()</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GAction</span></code> has a function to query the state of the action
(<code class="docutils literal notranslate"><span class="pre">g_action_get_state()</span></code>) and request changes to it
(<code class="docutils literal notranslate"><span class="pre">g_action_change_state()</span></code>) but only <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> has the API to directly
set the state value (<code class="docutils literal notranslate"><span class="pre">g_simple_action_set_state()</span></code>).</p></li>
</ul>
<p>If you want to provide a custom <code class="docutils literal notranslate"><span class="pre">GAction</span></code> implementation then you can have
your own mechanism to control access to state setting and enabled. The GSettings
<code class="docutils literal notranslate"><span class="pre">GAction</span></code> implementation, for example, gets its state directly from the value
in GSettings and is enabled according to lockdown in effect on the key. It is
not possible to directly modify these values in any way (although it is possible
to indirectly affect the state by changing the value of the setting, if you have
permission to do so).</p>
</section>
<section id="using-gsimpleaction">
<h2>Using <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code><a class="headerlink" href="#using-gsimpleaction" title="Permalink to this heading">¶</a></h2>
<p>If you are implementing actions, probably you will do it with <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> has two interesting signals: <code class="docutils literal notranslate"><span class="pre">activate</span></code> and
<code class="docutils literal notranslate"><span class="pre">change-state</span></code>. These correspond directly to <code class="docutils literal notranslate"><span class="pre">g_action_activate()</span></code> and
<code class="docutils literal notranslate"><span class="pre">g_action_change_state()</span></code>. You will almost certainly need to connect a handler
to the activate signal in order to handle the action being activated. The signal
handler takes a GVariant parameter which is the parameter that was passed to
<code class="docutils literal notranslate"><span class="pre">g_action_activate()</span></code>.</p>
<p>If your action is stateful, you may also want to connect a change-state handler
to deal with state change requests. If your action is stateful and you do not
connect a handler for the change-state signal then the default is that all state
change requests will always change the state to the requested value. Even if you
always want the state to be set to the requested value, you will probably want
to connect a handler so that you can take some action in response to the state
being changed.</p>
<p>The default behaviour of setting the state in response to
<code class="docutils literal notranslate"><span class="pre">g_action_change_state()</span></code> is disabled when connecting a handler to
change-state.  You therefore need to be sure to call
<code class="docutils literal notranslate"><span class="pre">g_simple_action_set_state()</span></code> from your handler if you actually want the state
to change.</p>
<p>A convenient way to bulk-create all the <code class="docutils literal notranslate"><span class="pre">GSimpleActions</span></code> you need to add to a
<code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> is to use a <code class="docutils literal notranslate"><span class="pre">GActionEntry</span></code> array and
<code class="docutils literal notranslate"><span class="pre">g_action_map_add_action_entries()</span></code>:</p>
</section>
<section id="other-kinds-of-actions">
<h2>Other kinds of actions<a class="headerlink" href="#other-kinds-of-actions" title="Permalink to this heading">¶</a></h2>
<p>Besides <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code>, GIO provides some other implementations of
<code class="docutils literal notranslate"><span class="pre">GAction</span></code>. One is <code class="docutils literal notranslate"><span class="pre">GSettingsAction</span></code>, which wraps a GSettings key with an
action that represents the value of the setting and lets you set the key to a
new value when activated. Another is <code class="docutils literal notranslate"><span class="pre">GPropertyAction</span></code>, which similarly
wraps a GObject property.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">GSettingsAction</span></code> and <code class="docutils literal notranslate"><span class="pre">GPropertyAction</span></code> implement toggle-on-activate
behaviour for boolean states - note that <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> does not, you have
to implement an activate handler yourself for that.</p>
</section>
<section id="adding-actions-to-your-gtkapplication">
<h2>Adding actions to your GtkApplication<a class="headerlink" href="#adding-actions-to-your-gtkapplication" title="Permalink to this heading">¶</a></h2>
<p>You can add a <code class="docutils literal notranslate"><span class="pre">GAction</span></code> to anything implementing the <code class="docutils literal notranslate"><span class="pre">GActionMap</span></code> interface,
including <code class="docutils literal notranslate"><span class="pre">GtkApplication</span></code>. This is done with <code class="docutils literal notranslate"><span class="pre">g_action_map_add_action()</span></code>
and <code class="docutils literal notranslate"><span class="pre">g_action_map_add_action_entries()</span></code>.</p>
<p>Typically, you will want to do this during the startup phase of your
application.</p>
<p>It’s possible to add or remove actions at any time, but doing it before startup
is wasteful in case the application is a remote instance (and will just exit
anyway). It is also possible to dynamically add and remove actions any time
after startup, when the application is running.</p>
</section>
<section id="adding-actions-to-your-gtkapplicationwindow">
<h2>Adding actions to your GtkApplicationWindow<a class="headerlink" href="#adding-actions-to-your-gtkapplicationwindow" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GtkApplicationWindow</span></code> also implements <code class="docutils literal notranslate"><span class="pre">GActionMap</span></code>. You will typically
want to add most actions to your window when it is constructed. It is possible
to add and remove actions at any time while the window exists.</p>
<p>For example:</p>
</section>
<section id="accelerators-keybindings-for-actions">
<h2>Accelerators (keybindings) for actions<a class="headerlink" href="#accelerators-keybindings-for-actions" title="Permalink to this heading">¶</a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">gtk_application_add_accelerator()</span></code> inside your application’s startup
implementation. For example:</p>
</section>
<section id="what-can-be-done-with-actions">
<h2>What can be done with actions<a class="headerlink" href="#what-can-be-done-with-actions" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GActions</span></code> that you add to your application or window can be used in
several different ways.</p>
<ul class="simple">
<li><p>used with GMenu</p></li>
<li><p>used with GtkActionable widgets</p></li>
<li><p>used with shortcuts</p></li>
<li><p>remotely activated from a remote GApplication instance (only for
application actions)</p></li>
<li><p>listed as “Additional application actions” in desktop files (only for
application actions)</p></li>
<li><p>remotely activated from other D-Bus callers (such as Ubuntu’s HUD)</p></li>
<li><p>used with GNotification notifications (only for application actions)</p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, GNUstep contributors
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Actions</a><ul>
<li><a class="reference internal" href="#what-it-is-what-it-isn-t">What it is, what it isn’t</a></li>
<li><a class="reference internal" href="#action-state-and-parameters">Action state and parameters</a></li>
<li><a class="reference internal" href="#action-target-and-detailed-names">Action target and detailed names</a></li>
<li><a class="reference internal" href="#action-scopes">Action scopes</a></li>
<li><a class="reference internal" href="#gactionmap"><code class="docutils literal notranslate"><span class="pre">GActionMap</span></code></a></li>
<li><a class="reference internal" href="#gsimpleaction-vs-gaction"><code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code> vs <code class="docutils literal notranslate"><span class="pre">GAction</span></code></a></li>
<li><a class="reference internal" href="#using-gsimpleaction">Using <code class="docutils literal notranslate"><span class="pre">GSimpleAction</span></code></a></li>
<li><a class="reference internal" href="#other-kinds-of-actions">Other kinds of actions</a></li>
<li><a class="reference internal" href="#adding-actions-to-your-gtkapplication">Adding actions to your GtkApplication</a></li>
<li><a class="reference internal" href="#adding-actions-to-your-gtkapplicationwindow">Adding actions to your GtkApplicationWindow</a></li>
<li><a class="reference internal" href="#accelerators-keybindings-for-actions">Accelerators (keybindings) for actions</a></li>
<li><a class="reference internal" href="#what-can-be-done-with-actions">What can be done with actions</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=359c27e9"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    </body>
</html>